<div class="container">
  <nav id="navbar-example2" class="navbar fixed-top navbar-light bg-light px-3">
    <a class="navbar-brand" href="#">
      <img src="../assets/logo.png" alt="" width="30" height="24" class="d-inline-block align-text-top">
        Variantes
    </a>
    <ul class="nav nav-pills">
      <li class="nav-item">
        <a class="nav-link" href="#scrollspyHeading1">Series</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="#scrollspyHeading2">Géneros</a>
      </li>
    </ul>
  </nav>
  <br /><br />
  <div class="jumbotron text-center">
    <h1>Cátalogo de Series</h1>
    <h2>No. de Series: {{ series.length }}</h2>
  </div>
  
  <!-- Inicio de Series -->
  <div id="scrollspyHeading1"><br /><br /><br />
    <div class="row">
      <div class="col-sm-6 col-sm-offset-1"><h4>Series</h4></div>
      <div class="col-sm-1 col-sm-offset-1"></div>
      <div class="col-sm-5 col-sm-offset-1"><h4>Registrar serie</h4></div>
    </div>
    <br />
    <div class="row">
      <div class="col-sm-6 col-sm-offset-1">
        <table class="table table-striped table-hover">
          <tr class="table-danger">
            <th>Nombre</th>
            <th>Temporadas</th>
            <th>Sinopsis</th>
            <th>Género</th>
          </tr>

          <tr *ngFor="let s of series" (click)="selectSerie(s)">
            <td>{{ s.nombre }}</td>
            <td>{{ s.temporadas }}</td>
            <td>{{ s.sinopsis }}</td>
            <td>{{ s.genero }}</td>
          </tr>
        </table>
      </div>
      <div class="col-sm-1 col-sm-offset-1"></div>
      <!-- Inicio del formulario -->
      <div class="col-sm-5 col-sm-offset-1">
        <form #serieForm="ngForm" (ngSubmit)="onSubmit(serieForm)" >
          <div class="form-group">

            <label>Nombre: </label>
            <input type="text" name="nombre" minlength="3" class="form-control" id="nombre" [(ngModel)]="serie.nombre" 
                #nombre="ngModel" title="Este campo debe contener más de 2 caracteres." required />

            <br />
            <label>Temporadas: </label>
            <input type="number" name="temporadas" class="form-control" id="temporadas" [(ngModel)]="serie.temporadas" 
            #nombre="ngModel" maxlength="2" title="Este campo solo puede contener números de 2 cifras o menos." required/>
            
            <br />
            <label>Sinopsis: </label>
            <input type="text" name="sinopsis" class="form-control" id="sinopsis" [(ngModel)]="serie.sinopsis" 
            #nombre="ngModel" minlength="11" title="El nombre debe contener más de 11 caracteres." required/>

            <br />
            <label>Género: </label><br />
            <select class="form-select form-select-sm" aria-label=".form-select-sm example" 
              name="genero" id="genero" [(ngModel)]="serie.genero" #nombre="ngModel" required>
              <option value="0" selected>Seleccionar...</option>
              <option *ngFor="let g of generos" [value]="g.generoC">{{g.generoC}}</option>
            </select>
          </div>

          <br />
            <table>
              <td>
                <button type="submit" class="btn btn-success btn-lg" (click)="addSerie()"
                  [disabled]="serieForm.invalid">Agregar</button>
              </td>
              <td>
                <button type="submit" class="btn btn-warning btn-lg" (click)="editSerie()"
                  [disabled]="serieForm.invalid">Modificar</button>
              </td>
              <td>
                <button type="submit" class="btn btn-danger btn-lg" (click)="confirmDel()">Eliminar</button>
              </td>
            </table>
        </form>
      </div>
    </div>
  </div>
  <br /><br /><br />

  <!-- Inicio de Géneros -->
  <div id="scrollspyHeading2">
    <div class="row">
      <div class="col-sm-6 col-sm-offset-1"><h4>Géneros</h4></div>
      <div class="col-sm-1 col-sm-offset-1"></div>
      <div class="col-sm-5 col-sm-offset-1"><h4>Registrar géneros</h4></div>
    </div>
    <br />
    <div class="row">
      <div class="col-sm-6 col-sm-offset-1">
        <table class="table table-striped table-hover">
          <tr class="table-danger">
            <th>Género</th>
            <th>Descripción</th>
          </tr>

          <tr *ngFor="let g of generos" (click)="selectGenero(g)">
            <td>{{ g.generoC }}</td>
            <td>{{ g.descripcion }}</td>
          </tr>
        </table>
      </div>
      <div class="col-sm-1 col-sm-offset-1"></div>
      <!-- Inicio del formulario -->
      <div class="col-sm-5 col-sm-offset-1">
        <form #generoForm="ngForm" (ngSubmit)="onSubmit(generoForm)">
          <div class="form-group">

            <label>Género: </label>
            <input type="text" name="genero" class="form-control" id="genero" [(ngModel)]="genero.generoC" 
                #nombre="ngModel" minlength="4" title="Debe contener mínimo 4 caracteres." required/>
            <br />

            <label>Descripción: </label>
            <input type="text" name="descripcion" class="form-control" id="descripcion" [(ngModel)]="genero.descripcion" 
              #nombre="ngModel" maxlength="150" title="Puede contener como máximo 150 caracteres." required />
            <br />

            <table>
              <td>
                <button type="submit" class="btn btn-success btn-lg" (click)="addGenero()"
                  [disabled]="generoForm.invalid">Agregar</button>
              </td>
              <td>
                <button type="submit" class="btn btn-warning btn-lg" (click)="editGenero()"
                  [disabled]="generoForm.invalid">Modificar</button>
              </td>
              <td>
                <button type="submit" class="btn btn-danger btn-lg" (click)="deleteGenero()"
                  [disabled]="generoForm.invalid">Eliminar</button>
              </td>
            </table>
          </div>
        </form>
      </div>
    </div>
  </div><br /><br /><br />
</div>